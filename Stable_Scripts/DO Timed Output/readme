Description: 

Rev 1.0 - Initial Release 4/24/2024


Example Code:
----------------------------
-- Digital Output Timed Output Function --
-- Output_Terminal = Terminal Board Number For Digital Output
-- Output_Number = Output Number For The Digital Output
-- On_Time = Enter Time To Keep Output On/Off, Once Energized/De-Energized
-- ON_Off_Config = 0 = Timer works Once Output Energizes, 1 = Timer Works Once Output Is De-Energized.
-- Output_On_Cmd = Command to Turn output on from main code
----------------------------
function DO_Timed_Output(Output_Terminal,Output_Number,On_Time,ON_Off_Config,Output_On_Cmd)
    
    local Name = tostring(Output_Terminal)..tostring(Output_Number)
    local Terminal = Output_Terminal
    local Output = Output_Number
    local Time = On_Time
    local Output_Cmd = Output_On_Cmd
    local active,remaining = get_timer(Name.."TMR")
	local Config = ON_Off_Config
    
	if Config == 0 then 
		if Output_Cmd == 0 then
			if remaining <= 0 then 
				set_do_val(Terminal,Output,0)
			end
		end

		if Output_Cmd == 1 then
			if not get_timer(Name.."TMR") then
				set_timer(Name.."TMR",Time)
				set_do_val(Terminal,Output,1)
			end
		end
	else
		if Output_Cmd == 1 then
			if remaining <= 0 then 
				set_do_val(Terminal,Output,1)
			end
		end

		if Output_Cmd == 0 then
			if not get_timer(Name.."TMR") then
				set_timer(Name.."TMR",Time)
				set_do_val(Terminal,Output,0)
			end
		end
	end
end


DO_Timed_Output(1,2,10,0,Output_1_Cmd) -- This example: 1 = Terminal Board, 2 = Output #, 10 = On/Off_Time In Seconds, 0 = Delay Timer Starts When Output Transitions From On To Off, Output_1_Cmd = Command to Turn output on from main code
DO_Timed_Output(1,3,5,1,Output_2_Cmd) -- This example: 1 = Terminal Board, 3 = Output #, 5 = On/Off_Time In Seconds, 1 = Delay Time Starts When Output Transitions From Off To On, Output_2_Cmd = Command to Turn output on from main code

if not Andrew_FS then
	Andrew_FS = 1
	set_sVirt("Output_1_Command","OFF")
	set_sVirt("Output_2_Command","ON")
end

checkToggle("Output_1_Command","ON","OFF")
checkToggle("Output_2_Command","ON","OFF")


if get_sVirt("Output_1_Command",0) == "ON" then
	Output_1_Cmd = 1
else
	Output_1_Cmd = 0
end

if get_sVirt("Output_2_Command",0) == "ON" then
	Output_2_Cmd = 1
else
	Output_2_Cmd = 0
end
